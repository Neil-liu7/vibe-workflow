# Workflow MCP 项目说明

## 项目概述

**Workflow MCP** 是一个基于 Model Context Protocol (MCP) 的工作流管理和提示词模板系统。该项目提供了一套完整的工具链，用于创建、管理和执行自定义工作流，同时集成了丰富的提示词模板库，特别适用于内容创作、网页生成和知识管理等场景。

## 核心功能

### 1. 工作流管理系统
- **工作流定义**：支持创建复杂的多步骤工作流
- **工作流执行**：自动化执行工作流中的各个步骤
- **工作流保存**：将工作流定义保存为 JSON 文件
- **工作流列表**：查看和管理所有可用的工作流

### 2. 提示词模板系统
- **模板管理**：支持 YAML 格式的提示词模板定义
- **参数化模板**：支持动态参数替换
- **使用统计**：跟踪模板使用情况和性能指标
- **可视化仪表板**：提供详细的使用统计和分析

### 3. 提示词模板应用方向
提示词模板系统支持多种内容生成场景，内置了丰富的专业模板：

- **网页生成**：3D 沉浸式网页、Bento Grid 风格网站等现代化网页设计
- **内容创作**：知识卡片、杂志风格卡片、播客脚本等多媒体内容生成
- **产品设计**：产品需求文档（PRD）、高保真原型设计等产品开发支持

这些模板通过参数化设计，可以根据不同的输入内容生成相应的专业级输出，大大提高内容创作的效率和质量。

## 技术架构

### 核心技术栈
- **TypeScript**：主要开发语言
- **Node.js**：运行环境
- **MCP SDK**：Model Context Protocol 支持
- **YAML**：提示词模板格式
- **Zod**：数据验证和类型安全



## 工作流系统详解

### 工作流类型
1. **Prompt 步骤**：AI 处理步骤，用于内容生成和转换
2. **MCP 步骤**：工具调用步骤，用于数据库操作、API 调用等
3. **Workflow 步骤**：子工作流调用，支持工作流嵌套

### 工作流特性
- **扁平化执行**：嵌套工作流在执行时会被展开为线性步骤
- **数据流传递**：步骤间可以传递和共享数据
- **模板变量**：支持 `{{变量名}}` 格式的动态数据替换
- **灵活配置**：通过 JSON 格式定义复杂的业务逻辑

## 提示词管理系统

### 模板格式
使用 YAML 格式定义提示词模板：
```yaml
name: template_name
description: 模板描述
arguments:
  - name: param1
    description: 参数描述
    type: string
    required: true
messages:
  - role: user
    content:
      type: text
      text: |
        模板内容，支持 {{param1}} 变量替换
```

### 统计功能
- **使用次数统计**：跟踪每个模板的调用频率
- **成功率监控**：监控模板执行的成功率
- **响应时间分析**：分析模板执行性能
- **可视化报表**：提供图表和仪表板展示

## 使用场景

### 1. 内容创作工作流
- 从原始素材到最终发布的完整流程
- 多格式内容生成（网页、卡片、脚本等）
- 品牌一致性保证

### 2. 产品开发工作流
- 需求分析到原型设计的自动化流程
- 代码审查和测试流程
- 文档生成和维护

### 3. 知识管理工作流
- 信息提取和整理
- 知识卡片批量生成
- 学习内容可视化

## 安装和使用

### 环境要求
- Node.js 16+
- TypeScript 5+

### 安装步骤
```bash
# 安装依赖
npm install

# 构建项目
npm run build

# 启动服务
npm start
```

### MCP 配置
在 Kiro 或其他支持 MCP 的客户端中配置：
```json
{
  "mcpServers": {
    "workflow-mcp": {
      "command": "node",
      "args": ["path/to/dist/index.js", "project-path"],
      "disabled": false
    }
  }
}
```

## 扩展开发

### 添加新的提示词模板
1. 在 `prompts/` 目录下创建 YAML 文件
2. 定义模板结构和参数
3. 重启服务自动加载

### 创建自定义工作流
1. 使用 `workflow-create` 工具创建新工作流
2. 定义步骤和数据流
3. 保存到 `.workflow/` 目录

### 开发新工具
1. 在 `src/tools/` 目录下创建新文件
2. 实现工具逻辑并注册到服务器
3. 更新类型定义

## 项目特色

1. **模块化设计**：清晰的代码结构，易于维护和扩展
2. **类型安全**：完整的 TypeScript 类型定义
3. **丰富的模板库**：涵盖多种内容创作场景
4. **可视化统计**：详细的使用分析和性能监控
5. **工作流自动化**：支持复杂业务流程的自动化执行

## 许可证

本项目采用 GPL-3.0 许可证，详见 LICENSE 文件。

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进项目。在贡献代码前，请确保：
- 遵循现有的代码风格
- 添加适当的类型定义
- 编写清晰的提交信息
- 更新相关文档

---

*该项目旨在提供一个强大而灵活的工作流和内容生成平台，帮助用户提高创作效率和内容质量。*